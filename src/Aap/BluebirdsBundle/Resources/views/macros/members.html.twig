{% macro fullname(member) %}
    {% set fullname = '' %}
    {% for name_part in ['firstName', 'middleName', 'lastName'] %}
        {% set part = attribute(member, name_part) %}
        {% if part %}
            {% if fullname != '' %}
                {% set fullname = fullname ~ ' ' %}
            {% endif %}
            {% set fullname = fullname ~ part %}
        {% endif %}
    {% endfor %}
    {{ fullname }}
{% endmacro %}
